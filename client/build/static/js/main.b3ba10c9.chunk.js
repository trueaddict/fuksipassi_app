(this["webpackJsonpfuksipassi-react"]=this["webpackJsonpfuksipassi-react"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(20),r=n.n(c),i=(n(29),n(10)),o=(n(30),n(22)),j=n(3),l=n(4),u=n.n(l),d=n(9),h="http://127.0.0.1:5000",b={loginUser:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(h+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(h+"/signout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchData:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(h+"/data?token="+t.token,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),useWindowSize:function(){var e=Object(s.useState)({width:void 0,height:void 0}),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(s.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}},x=n(0),p=function(e){var t=e.setToken,n=e.id_jarj,a=Object(s.useState)(),c=Object(i.a)(a,2),r=c[0],o=c[1],j=Object(s.useState)(),l=Object(i.a)(j,2),h=l[0],p=l[1],O=function(){var e=Object(d.a)(u.a.mark((function e(s){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),a={useremail:r,password:h,id_jarj:n},e.next=4,b.loginUser(a);case 4:(c=e.sent).token&&t(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{class:"nav",children:Object(x.jsx)("div",{class:"row",children:Object(x.jsxs)("div",{class:"center",children:[Object(x.jsx)("div",{class:"col s12 m2 brand-site",children:Object(x.jsx)("a",{href:"https://www.syrinx.fi",children:Object(x.jsx)("img",{src:"./static/img/syrinx_logo.png",alt:"",class:"responsive-img"})})}),Object(x.jsx)("div",{class:"col s12 m4 offset-m2",children:Object(x.jsx)("a",{href:"",class:"",children:Object(x.jsx)("h3",{class:"brand-text brand-logo",children:"Syrinx Fuksipassi"})})})]})})}),Object(x.jsxs)("div",{class:"center brand-text",children:[Object(x.jsx)("h4",{children:"Kirjaudu"}),Object(x.jsx)("p",{children:"Anna isamail (yliopiston JYU) s\xe4hk\xf6posti pitk\xe4ss\xe4 muodossa"}),Object(x.jsx)("p",{children:"Esim."}),Object(x.jsx)("p",{children:Object(x.jsx)("i",{children:"kalle.h.ankka@student.jyu.fi"})})]}),Object(x.jsxs)("form",{class:"kuittaus",onSubmit:O,children:[Object(x.jsx)("input",{type:"email",name:"useremail",placeholder:"S\xe4hk\xf6posti",pattern:".*@student.jyu.fi",required:!0,onChange:function(e){return o(e.target.value)}})," ",Object(x.jsx)("input",{type:"password",name:"password",placeholder:"Ainej\xe4rjest\xf6n Salasana",id:"password",required:!0,onChange:function(e){return p(e.target.value)}})," ",Object(x.jsx)("div",{class:"center",children:Object(x.jsx)("input",{class:"btn yellow darken-2",type:"submit",value:"Kirjaudu"})})]})]})},O=n(21),m=n(51),f=function(e){var t=e.name,n=e.setToken,s=b.useWindowSize().width<=700?"column":"row",a=[3,6,1,2];if("column"==s){var c,r=[],i=Object(O.a)(a);try{for(i.s();!(c=i.n()).done;){c.value;r.push(0)}}catch(o){i.e(o)}finally{i.f()}a=r}return Object(x.jsx)("div",{className:"nav",children:Object(x.jsxs)(m.a,{container:!0,spacing:3,direction:s,children:[Object(x.jsx)(m.a,{item:!0,xs:a[0],children:Object(x.jsx)("div",{className:"header",children:Object(x.jsx)("a",{href:"https://www.syrinx.fi",children:Object(x.jsx)("img",{src:"https://www.syrinx.fi/wp-content/uploads/2019/02/copy-syrinx_logoGreenBackgroundveryYellowWithText.png",alt:"",className:"responsive-img"})})})}),Object(x.jsx)(m.a,{item:!0,xs:a[1],children:Object(x.jsx)("div",{className:"header",children:Object(x.jsx)("a",{href:"",className:"",children:Object(x.jsx)("h3",{className:"brand-text brand-logo",children:"Syrinx Fuksipassi"})})})}),Object(x.jsx)(m.a,{item:!0,xs:a[2],children:Object(x.jsx)("div",{className:"header",children:t})}),Object(x.jsx)(m.a,{item:!0,xs:a[3],children:Object(x.jsx)("div",{className:"header",children:Object(x.jsx)("button",{onClick:function(e){n()},className:"btn-small logout-btn yellow darken-2",name:"logout-submit",children:"Kirjaudu ulos"})})})]})})},v=function(){return Object(x.jsxs)("div",{class:"center container",children:[Object(x.jsx)("p",{class:"info-text",children:"T\xe4m\xe4 on Syrinx Ry:n virallinen Fuksipassi 2020. Seuraavia teht\xe4vi\xe4 suorittamalla saat kaiken irti fuksisyksyst\xe4si ja p\xe4\xe4set samalla sukeltamaan osaksi Syrinxin toimintaa!"}),Object(x.jsx)("p",{class:"info-text",children:"Vaikka fuksipassin t\xe4ytt\xe4miseen tulee suhtautua omistautuneesti ja asianmukaisella vakavuudella, muista aina teht\xe4vi\xe4 suorittaessasi pit\xe4\xe4 hauskaa ja hakea rennosti uusia kokemuksia."}),Object(x.jsx)("p",{class:"info-text info-text-last",children:"Antoisaa fuksisyksy\xe4!"})]})},k=function(e){var t=e.task;return Object(x.jsxs)("div",{className:"card z-depth-0",children:[Object(x.jsxs)("div",{className:"card-content center",children:[Object(x.jsxs)("h6",{children:["Teht\xe4v\xe4 ",t.num]}),Object(x.jsx)("h5",{children:t.kuvaus})]}),Object(x.jsx)("div",{className:"card-action center",children:t.lahetetty&t.suoritettu?Object(x.jsx)("button",{className:"btn brand-text grey",children:"L\xe4hetetty"}):t.suoritettu?Object(x.jsx)("button",{className:"btn brand-text btn-suoritettu",children:"Suoritettu"}):Object(x.jsxs)("form",{children:[Object(x.jsx)("input",{className:"hide",name:"id"}),Object(x.jsx)("input",{type:"text",placeholder:"Viesti / Tutorin nimi",name:"message",id:"1973",className:"perusopinnot"}),Object(x.jsx)("button",{type:"submit",className:"btn brand-text yellow darken-2",children:"L\xe4het\xe4"})]})})]})},y=function(e){var t=e.token,n=Object(s.useState)(),a=Object(i.a)(n,2),c=a[0],r=a[1],o=Object(s.useState)([]),j=Object(i.a)(o,2),l=j[0],h=j[1],p=b.useWindowSize();Object(s.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.fetchData(t);case 2:n=e.sent,h(n.tehtavat),console.log(n),console.log(l);case 6:case"end":return e.stop()}}),e)})))();for(var e={},n=0,s=Object.keys(l);n<s.length;n++){e[s[n]]=!1}r(e)}),[]);var O=p.width<=700?"column":"row",f=p.width<=700?12:6,v=Object.keys(l);return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h4",{className:"center gray-text",children:"Teht\xe4v\xe4t"}),v.length>0?v.map((function(e){return Object(x.jsxs)("div",{className:"",children:[Object(x.jsxs)("button",{className:"accordion ".concat(c[e]?"active":""),type:"button",onClick:function(t){return function(e,t){e.preventDefault();var n=Object.assign({},c);n[t]=!n[t],r(n)}(t,e)},children:[Object(x.jsx)("h5",{children:e}),Object(x.jsx)("br",{}),Object(x.jsxs)("h6",{children:[l[e].suoritettu," / ",l[e].kpl]})]}),Object(x.jsx)("div",{className:"panel ".concat(c[e]?"show":""),children:Object(x.jsx)(m.a,{container:!0,spacing:2,direction:O,children:l[e].tehtavat.length>0?l[e].tehtavat.map((function(e){return Object(x.jsx)(m.a,{item:!0,xs:f,children:Object(x.jsx)(k,{task:e})},e.id)})):null})})]})})):null]})},w=function(e){var t=e.token,n=e.setToken,s=function(){var e=Object(d.a)(u.a.mark((function e(s){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),a={user_id:t.token},e.next=4,b.deleteUser(a);case 4:e.sent,n();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"policy",children:[Object(x.jsx)("h5",{className:"center gray-text",children:"Luodaanko uusi k\xe4ytt\xe4j\xe4?"}),Object(x.jsx)("p",{className:"center brand-text",children:"Email"}),Object(x.jsxs)("p",{className:"center gray-text",children:["Luomalla k\xe4ytt\xe4j\xe4n hyv\xe4ksyt palvelun k\xe4ytt\xf6ehdot sek\xe4 ",Object(x.jsx)("a",{href:"./gdpr",children:"rekisteri- ja tietosuojaselosteen"})]}),Object(x.jsx)("div",{className:"center margin-top-bottom",children:Object(x.jsx)("button",{onClick:function(e){var s=Object.assign({},t);s.isnewuser=!1,n(s)},className:"btn green-syrinx",children:"Kyll\xe4"})}),Object(x.jsx)("div",{className:"center margin-top-bottom",children:Object(x.jsx)("button",{onClick:s,className:"btn yellow darken-2",children:"Ei"})})]}),Object(x.jsx)("div",{className:"policy-background"})]})},g=(n(36),function(){var e=Object(s.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1];return console.log(n),n?Object(x.jsxs)(x.Fragment,{children:[n.isnewuser?Object(x.jsx)(w,{token:n,setToken:a}):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)(f,{setToken:a,name:"Otto Virtanen"}),Object(x.jsx)(v,{}),Object(x.jsx)(y,{token:n})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(o.a,{children:Object(x.jsxs)(j.c,{children:[Object(x.jsx)(j.a,{path:"/syrinx",children:Object(x.jsx)(p,{setToken:a,id_jarj:"1"})}),Object(x.jsx)(j.a,{path:"/",children:Object(x.jsx)("p",{children:"Public frontpage"})})]})})})});r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(g,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.b3ba10c9.chunk.js.map